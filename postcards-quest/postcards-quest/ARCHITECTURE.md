# ğŸ“‘ ĞĞ Ğ¥Ğ˜Ğ¢Ğ•ĞšĞ¢Ğ£Ğ Ğ Ğ˜ Ğ”Ğ˜ĞĞ“Ğ ĞĞœĞœĞ ĞŸĞ Ğ˜Ğ›ĞĞ–Ğ•ĞĞ˜Ğ¯

## ğŸ›ï¸ Ğ’Ñ‹ÑĞ¾ĞºĞ¾ÑƒÑ€Ğ¾Ğ²Ğ½ĞµĞ²Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FRONTEND (Next.js)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚   /page      â”‚      â”‚  /create     â”‚                    â”‚
â”‚  â”‚ (Ğ›ĞµĞ½Ğ´Ğ¸Ğ½Ğ³)    â”‚      â”‚ (Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ)   â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚         â”‚                     â”‚                              â”‚
â”‚         â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â–º  /card/[id]  â”‚                              â”‚
â”‚                â”‚  (ĞšĞ²ĞµÑÑ‚+Ğ‘ÑƒĞºĞµÑ‚)â”‚                            â”‚
â”‚                â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â”‚                       â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ (HTTPS)
                        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         SUPABASE (Backend as a Service)                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚     PostgreSQL Database                          â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚  â”‚   public.postcards TABLE                  â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  - id (UUID)                              â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  - sender_name, recipient_name            â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  - message (Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğµ Ğ¿Ğ¾Ğ·Ğ´Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ)        â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  - compliments (text[] Ğ¸Ğ· 8 ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²)   â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  - theme, mode, quiz_seed, secret_word   â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  - view_count                             â”‚  â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚     RLS Policies (Row Level Security)           â”‚    â”‚
â”‚  â”‚  âœ“ INSERT: Ğ²ÑĞµĞ¼ (creation Ğ±ĞµĞ· login)            â”‚    â”‚
â”‚  â”‚  âœ“ SELECT: Ğ²ÑĞµĞ¼ (viewing by ID)                 â”‚    â”‚
â”‚  â”‚  âœ“ UPDATE: Ğ½Ğ¸ĞºĞ¾Ğ¼Ñƒ (integrity)                   â”‚    â”‚
â”‚  â”‚  âœ“ DELETE: Ğ½Ğ¸ĞºĞ¾Ğ¼Ñƒ (integrity)                   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ ĞŸĞ¾Ñ‚Ğ¾Ğº Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

### Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚ĞºĞ¸
```
ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ·Ğ°Ğ¿Ğ¾Ğ»Ğ½ÑĞµÑ‚ Ñ„Ğ¾Ñ€Ğ¼Ñƒ
         â†“
   Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ
  âœ“ message != Ğ¿ÑƒÑÑ‚Ğ¾
  âœ“ compliments.length == 8
         â†“
Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ quiz_seed (random int)
         â†“
CREATE INSERT Ğ² postcards
         â†“
ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµĞ¼ UUID Ğ½Ğ¾Ğ²Ğ¾Ğ¹ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚ĞºĞ¸
         â†“
Redirect on /card/[uuid]
```

### ĞÑ‚ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚ĞºĞ¸
```
ĞŸĞ¾ÑĞµÑ‰ĞµĞ½Ğ¸Ğµ /card/[id]
         â†“
Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ¸Ğ· Ğ‘Ğ” (SELECT by ID)
         â†“
RLS Ğ¿Ğ¾Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ° Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿
  â†’ OK, Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶ĞµĞ½Ñ‹
         â†“
Hero ÑĞºÑ€Ğ°Ğ½ Ñ Ğ¿Ñ€Ğ¸Ğ³Ğ»Ğ°ÑˆĞµĞ½Ğ¸ĞµĞ¼
         â†“
ĞšĞ²ĞµÑÑ‚ (3 Ğ·Ğ°Ğ´Ğ°Ğ½Ğ¸Ñ):
  1. Static choice (Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹ = "ĞŸĞ¾Ğ´ÑĞ½ĞµĞ¶Ğ½Ğ¸Ğº")
  2. Deterministic by seed (seed â†’ Ğ¸Ğ½Ğ´ĞµĞºÑ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°)
  3. Counting (8 ĞºĞ»Ğ¸ĞºĞ¾Ğ² = done)
         â†“
Ğ Ğ°ÑĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ Ğ¿Ğ¾Ğ·Ğ´Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ
  â†“
Ğ‘ÑƒĞºĞµÑ‚ (8 Ğ»ĞµĞ¿ĞµÑÑ‚ĞºĞ¾Ğ²)
  â†“
ĞœĞµĞ¼Ğ½Ñ‹Ğµ Ñ€ĞµĞ°ĞºÑ†Ğ¸Ğ¸ (ĞµÑĞ»Ğ¸ mode == 'cute_meme')
  â†“
ĞĞ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾: ÑĞµĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğµ ÑĞ»Ğ¾Ğ²Ğ¾ â†’ Ğ¿Ğ°ÑÑ…Ğ°Ğ»ĞºĞ°
```

## ğŸ—‚ï¸ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²

```
Layout (Root)
â”œâ”€ Header/Navigation (Ğ²ÑÑ‚Ñ€Ğ¾ĞµĞ½ Ğ² page.tsx)
â”œâ”€ Pages
â”‚  â”œâ”€ page.tsx (Hero/Ğ›ĞµĞ½Ğ´Ğ¸Ğ½Ğ³)
â”‚  â”‚  â””â”€ Hero section + CTA
â”‚  â”‚
â”‚  â”œâ”€ create/page.tsx (Form)
â”‚  â”‚  â”œâ”€ ThemePicker
â”‚  â”‚  â”œâ”€ ModeToggle
â”‚  â”‚  â”œâ”€ CardPreview
â”‚  â”‚  â””â”€ Compliments form (8 inputs)
â”‚  â”‚
â”‚  â””â”€ card/[id]/page.tsx (Main logic)
â”‚     â”œâ”€ Hero screen (visitor)
â”‚     â”œâ”€ QuestFlow
â”‚     â”‚  â”œâ”€ Spring choice
â”‚     â”‚  â”œâ”€ Mood quiz
â”‚     â”‚  â””â”€ Heart clicks
â”‚     â”œâ”€ CardReveal
â”‚     â”‚  â”œâ”€ Message display
â”‚     â”‚  â”œâ”€ Bouquet
â”‚     â”‚  â”‚  â””â”€ (8 Petals with compliments)
â”‚     â”‚  â”œâ”€ StickerReactions (if cute_meme)
â”‚     â”‚  â”œâ”€ DownloadButton
â”‚     â”‚  â””â”€ Secret word input
â”‚     â”œâ”€ SecretScreen (if word correct)
â”‚     â””â”€ Confetti (animation)
â”‚
â”œâ”€ Utilities
â”‚  â”œâ”€ LoadingSpinner
â”‚  â””â”€ Footer
â”‚
â””â”€ Functional libs
   â”œâ”€ supabaseClient.ts (DB ops)
   â”œâ”€ utils.ts (helpers)
   â”œâ”€ compliments.ts (content)
   â””â”€ memes.ts (quiz variants)
```

## ğŸ¨ Ğ¢ĞµĞ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ñ†Ğ²ĞµÑ‚Ğ¾Ğ²Ñ‹Ğµ ÑÑ…ĞµĞ¼Ñ‹

### Pastel (Ñ€Ğ¾Ğ·Ğ¾Ğ²Ñ‹Ğ¹ â†’ Ñ„Ğ¸Ğ¾Ğ»ĞµÑ‚Ğ¾Ğ²Ñ‹Ğ¹ â†’ ÑĞ¸Ğ½Ğ¸Ğ¹)
```css
background: linear-gradient(to right, 
  rgba(252, 207, 207, 0.3),
  rgba(213, 165, 255, 0.3),
  rgba(191, 219, 254, 0.3)
);
```

### Cats (Ğ¾Ñ€Ğ°Ğ½Ğ¶ĞµĞ²Ñ‹Ğ¹ â†’ Ğ¶Ñ‘Ğ»Ñ‚Ñ‹Ğ¹ â†’ Ñ€Ğ¾Ğ·Ğ¾Ğ²Ñ‹Ğ¹)
```css
background: linear-gradient(to right,
  rgba(254, 215, 170, 0.3),
  rgba(254, 243, 199, 0.3),
  rgba(252, 207, 207, 0.3)
);
```

### Corporate (Ğ·ĞµĞ»Ñ‘Ğ½Ñ‹Ğ¹ â†’ ÑĞ¸Ğ½Ğ¸Ğ¹ â†’ Ñ„Ğ¸Ğ¾Ğ»ĞµÑ‚Ğ¾Ğ²Ñ‹Ğ¹)
```css
background: linear-gradient(to right,
  rgba(220, 252, 231, 0.3),
  rgba(219, 245, 254, 0.3),
  rgba(243, 232, 255, 0.3)
);
```

### Meme-lite (Ğ»Ğ°Ğ¹Ğ¼ â†’ Ğ±Ğ¸Ñ€ÑĞ·Ğ° â†’ Ñ„ÑƒĞºÑĞ¸Ñ)
```css
background: linear-gradient(to right,
  rgba(244, 255, 159, 0.3),
  rgba(165, 243, 252, 0.3),
  rgba(249, 168, 212, 0.3)
);
```

## ğŸ§® Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° ĞºĞ²ĞµÑÑ‚Ğ°

### Ğ—Ğ°Ğ´Ğ°Ğ½Ğ¸Ğµ 1: Spring Choice (Static)
```typescript
const options = [
  { label: 'ĞŸĞ¾Ğ´ÑĞ½ĞµĞ¶Ğ½Ğ¸Ğº ğŸŒ·', correct: true },
  { label: 'Ğ¡Ğ½ĞµĞ³ â„ï¸', correct: false },
  { label: 'Ğ”Ğ¾Ğ¶Ğ´Ğ¸Ğº ğŸŒ§ï¸', correct: false },
];
// Ğ’ÑĞµĞ³Ğ´Ğ° Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¾Ñ‚Ğ²ĞµÑ‚ = ĞŸĞ¾Ğ´ÑĞ½ĞµĞ¶Ğ½Ğ¸Ğº
```

### Ğ—Ğ°Ğ´Ğ°Ğ½Ğ¸Ğµ 2: Mood Quiz (Deterministic)
```typescript
const options = ['ĞœĞ°Ğ»Ğ°Ğ´ĞµÑ†!', 'Ğ£Ñ€Ğ°!', 'Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞ¾!', 'Ğ£Ğ»Ñ‘Ñ‚!'];
const correctIndex = Math.floor(Math.sin(quiz_seed) * 4);
// Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ seed, Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµĞ¼Ğ¾Ğ³Ğ¾ Ğ¿Ñ€Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğ¸
// ĞĞ´Ğ¸Ğ½ Ğ¸ Ñ‚Ğ¾Ñ‚ Ğ¶Ğµ quiz_seed = Ğ¾Ğ´Ğ¸Ğ½ Ğ¸ Ñ‚Ğ¾Ñ‚ Ğ¶Ğµ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¾Ñ‚Ğ²ĞµÑ‚
```

### Ğ—Ğ°Ğ´Ğ°Ğ½Ğ¸Ğµ 3: Heart Clicks (Counting)
```typescript
const neededClicks = 8;
// ĞŸÑ€Ğ¾ÑÑ‚Ğ¾ ÑÑ‡Ñ‘Ñ‚Ñ‡Ğ¸Ğº
// ĞŸĞ¾ÑĞ»Ğµ 8-Ğ³Ğ¾ ĞºĞ»Ğ¸ĞºĞ° â†’ handleQuestComplete()
```

## ğŸ”’ Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ & RLS

### ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ RLS Ğ½ÑƒĞ¶ĞµĞ½?
Ğ‘ĞµĞ· RLS:
```sql
SELECT * FROM postcards;  -- Ğ’Ğ¸Ğ´Ğ¸Ñ‚ Ğ’Ğ¡Ğ• Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚ĞºĞ¸ (Ğ¿Ğ»Ğ¾Ñ…Ğ¾!)
```

Ğ¡ RLS (Ğ½Ğ°ÑˆĞ° Ğ¿Ğ¾Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ°):
```sql
SELECT * FROM postcards WHERE id = 'xyz'; -- OK (Ğ·Ğ½Ğ°Ñ ID)
SELECT * FROM postcards; -- Ğ’ĞµÑ€Ğ½Ñ‘Ñ‚ Ğ²ÑĞµ (Ğ½Ğ¾ viewer Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ±Ñ‹Ñ‚ÑŒ Ğ±ĞµĞ· auth)
```

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ**: ĞĞ°Ñˆ Ñ‚ĞµĞºÑƒÑ‰Ğ¸Ğ¹ RLS Ñ€Ğ°Ğ·Ñ€ĞµÑˆĞ°ĞµÑ‚ SELECT Ğ²ÑĞµĞ¼, Ñ‡Ñ‚Ğ¾ OK Ğ´Ğ»Ñ Ğ²ĞµĞ±-ÑĞ°Ğ¹Ñ‚Ğ°, Ğ³Ğ´Ğµ Ğ½ÑƒĞ¶ĞµĞ½ Ğ°Ğ½Ğ¾Ğ½Ğ¸Ğ¼Ğ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€.

Ğ•ÑĞ»Ğ¸ Ğ½ÑƒĞ¶Ğ½Ğ° **Ğ±Ğ¾Ğ»ÑŒÑˆĞ° Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ**:
```sql
create policy "Select only own" on postcards
  for select
  using (auth.uid() = user_id);  -- Ğ¢Ñ€ĞµĞ±ÑƒĞµÑ‚ auth, Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ user_id ĞºĞ¾Ğ»Ğ¾Ğ½ĞºĞ¸
```

## ğŸ“¦ Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ¸ Ğ¸Ñ… Ñ€Ğ¾Ğ»ÑŒ

| ĞŸĞ°ĞºĞµÑ‚ | Ğ’ĞµÑ€ÑĞ¸Ñ | ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ |
|-------|--------|-----------|
| `next` | ^15.1.0 | React Ñ„Ñ€ĞµĞ¹Ğ¼Ğ²Ğ¾Ñ€Ğº SSR |
| `react` | ^19.0.0 | UI library |
| `typescript` | ^5.3.0 | Type safety |
| `tailwindcss` | ^3.4.0 | Ğ¡Ñ‚Ğ¸Ğ»Ğ¸ (utility-first CSS) |
| `framer-motion` | ^11.0.0 | ĞĞ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ğ¸ (Ğ¾Ñ‡ĞµĞ½ÑŒ Ğ²Ğ°Ğ¶Ğ½Ğ° Ğ´Ğ»Ñ UX) |
| `lucide-react` | ^0.408.0 | Ğ˜ĞºĞ¾Ğ½ĞºĞ¸ |
| `@supabase/supabase-js` | ^2.43.0 | DB ĞºĞ»Ğ¸ĞµĞ½Ñ‚ |
| `html-to-image` | ^1.11.11 | (Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ ĞºĞ°Ğº fallback) |
| `clsx` | ^2.1.0 | Ğ£ÑĞ»Ğ¾Ğ²Ğ½Ñ‹Ğµ CSS ĞºĞ»Ğ°ÑÑÑ‹ |

## ğŸš€ Deployment Pipeline

```
GitHub repo
      â†“
Vercel (connected)
      â†“
Automatic build â†’ next build
      â†“
Environment vars injected
      â†“
Deploy to CDN
      â†“
https://postcards-quest.vercel.app
```

## ğŸ’¾ Backup & Database

### Ğ”Ğ»Ñ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚Ğ¾Ğº:
```bash
# Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ¸Ğ· Supabase
supabase db dump --db-url postgres://...

# Ğ˜Ğ»Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Supabase UI â†’ Data â†’ Export
```

---

# ğŸ“‹ TODO LIST Ğ”Ğ›Ğ¯ Ğ£Ğ›Ğ£Ğ§Ğ¨Ğ•ĞĞ˜Ğ™ (ĞŸĞĞ¡Ğ›Ğ• MVP)

## ğŸ”¥ Priority 1 (High Impact)

- [ ] **Analytics**: Ğ¡ÑƒĞ¼ĞµÑ‚ÑŒ Ğ¾Ñ‚ÑĞ»ĞµĞ¶Ğ¸Ğ²Ğ°Ñ‚ÑŒ ÑĞºĞ¾Ğ»ÑŒĞºĞ¾ Ğ»ÑĞ´ĞµĞ¹ Ğ¿Ñ€Ğ¾ÑˆĞ»Ğ¾ ĞºĞ²ĞµÑÑ‚ (Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ `completed_at` Ğ² Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñƒ Ğ¸Ğ»Ğ¸ Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½ÑƒÑ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñƒ events)
  - ```sql
    CREATE TABLE events (
      id uuid primary key,
      postcard_id uuid references postcards(id),
      event_type text, -- 'viewed', 'quiz_completed'
      created_at timestamp
    );
    ```

- [ ] **Email notifications**: ĞšĞ¾Ğ³Ğ´Ğ° ĞºÑ‚Ğ¾-Ñ‚Ğ¾ Ğ¿Ñ€Ğ¾Ğ¹Ğ´Ñ‘Ñ‚ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚ĞºÑƒ, Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¸Ğ¼ĞµĞ¹Ğ» ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ĞµĞ»Ñ
  - Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ SendGrid/Brevo/Postmark API
  - Ğ¢Ñ€ĞµĞ±ÑƒĞµÑ‚ Ğ¿Ğ¾Ğ»Ñ `sender_email` Ğ² Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğµ

- [ ] **PNG Export**: Ğ‘Ğ¾Ğ»ĞµĞµ ĞºÑ€Ğ°ÑĞ¸Ğ²Ñ‹Ğ¹ ÑĞºÑĞ¿Ğ¾Ñ€Ñ‚ ĞºĞ°Ñ€Ñ‚Ğ¸Ğ½ĞºĞ¸ (ÑĞµĞ¹Ñ‡Ğ°Ñ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ window.print())
  - Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ `html2canvas` Ğ¸Ğ»Ğ¸ `Puppeteer` Ğ½Ğ° ÑĞµÑ€Ğ²ĞµÑ€Ğµ
  - Endpoint Ğ´Ğ»Ñ ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ°Ñ†Ğ¸Ğ¸

## ğŸ¯ Priority 2 (Nice to Have)

- [ ] **Gallery** â€” Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ñ‚Ğ¾Ğ¿-Ğ¿Ğ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ñ‹Ğµ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚ĞºĞ¸ (Ğ±ĞµĞ· Ğ¿Ñ€Ğ¸Ğ²Ğ°Ñ‚Ğ½Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…)
  - Ğ¢Ñ€ĞµĞ±ÑƒĞµÑ‚: `is_public` Ñ„Ğ»Ğ°Ğ³, Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ view_count
  
- [ ] **Customizable quiz**: ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ²Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ ÑĞ²Ğ¾Ğ¸ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹ Ğ¿Ñ€Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğ¸
  - ĞĞ¾Ğ²Ğ¾Ğµ Ğ¿Ğ¾Ğ»Ğµ: `quiz_questions` (JSON array)

- [ ] **Social share**: ĞšĞ½Ğ¾Ğ¿ĞºĞ° "ĞŸĞ¾Ğ´ĞµĞ»Ğ¸Ñ‚ÑŒÑÑ Ğ² VK/Telegram/Whatsapp"
  - Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Web Share API Ğ¸Ğ»Ğ¸ share buttons Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºÑƒ

- [ ] **Dark theme**: ĞŸĞµÑ€ĞµĞºĞ»ÑÑ‡Ğ°Ñ‚ĞµĞ»ÑŒ ÑĞ²ĞµÑ‚Ğ»Ğ¾Ğ¹/Ñ‚Ñ‘Ğ¼Ğ½Ğ¾Ğ¹ Ñ‚ĞµĞ¼Ñ‹
  - Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ next-themes, Tailwind dark mode

- [ ] **Video greeting**: Ğ’ÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ ÑÑÑ‹Ğ»ĞºÑƒ Ğ½Ğ° YouTube Ğ²Ğ¸Ğ´ĞµĞ¾ Ğ² Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚ĞºÑƒ
  - ĞĞ¾Ğ²Ğ¾Ğµ Ğ¿Ğ¾Ğ»Ğµ: `video_url`
  - ĞĞ° ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğµ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ embed Ğ¿ĞµÑ€ĞµĞ´ ĞºĞ²ĞµÑÑ‚Ğ¾Ğ¼

## ğŸŒ Priority 3 (Future)

- [ ] **Internationalization** (i18n): EN, DE, FR Ğ²ĞµÑ€ÑĞ¸Ğ¸
  - Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ `next-intl`

- [ ] **PWA**: Offline Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°, installable Ğ½Ğ° Ğ³Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ÑĞºÑ€Ğ°Ğ½
  - next-pwa package, service workers

- [ ] **WebRTC**: Ğ’Ğ¸Ğ´ĞµĞ¾Ğ·Ğ²Ğ¾Ğ½Ğ¾Ğº Ğ² Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğ¸ (Ğ´Ğ»Ñ ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ñ‹Ñ… Ğ¿Ğ¾Ğ·Ğ´Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğ¹)
  - Jitsi Meet API

- [ ] **AI ĞºĞ¾Ğ¼Ğ¿Ğ»Ğ¸Ğ¼ĞµĞ½Ñ‚Ñ‹**: Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ĞºĞ¾Ğ¼Ğ¿Ğ»Ğ¸Ğ¼ĞµĞ½Ñ‚Ñ‹ Ñ‡ĞµÑ€ĞµĞ· ChatGPT/ĞœĞµÑÑ‚Ğ½Ñ‹Ğµ LLM
  - OpenAI API Ğ¸Ğ»Ğ¸ Ollama local

- [ ] **Advanced statistics**: Ğ”Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ñ‹, Ğ²Ñ€ĞµĞ¼Ñ Ğ½Ğ° ĞºĞ°Ğ¶Ğ´Ğ¾Ğµ Ğ·Ğ°Ğ´Ğ°Ğ½Ğ¸Ğµ,ç‡ ÑƒÑĞ¿ĞµÑ…Ğ°
  - Vercel Analytics, PostHog

## ğŸ› ï¸ Technical Debt

- [ ] Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ unit Ñ‚ĞµÑÑ‚Ñ‹ (Jest + React Testing Library)
- [ ] E2E Ñ‚ĞµÑÑ‚Ñ‹ (Playwright, Cypress)
- [ ] Storybook Ğ´Ğ»Ñ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²
- [ ] Error tracking (Sentry)
- [ ] Performance optimization (Image optimization, code splitting)
- [ ] Rate limiting Ğ½Ğ° Supabase Edge Functions (prevent spam)

---

## ğŸ“ Learn Resources

- **Next.js Patterns**: https://github.com/vercel/next.js/tree/canary/examples
- **Supabase Docs**: https://supabase.com/docs
- **Tailwind Components**: https://tailwindui.com
- **Framer Motion Learning**: https://www.framer.com/motion/guides/what-is-framer-motion/

---

**Made with ğŸ’– and âœ¨ for 8 March 2026**
